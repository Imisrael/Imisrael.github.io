<!DOCTYPE html>
<html>
  <head>
    <title>Documentation for Hugo docDock</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.48" />
<title> :: Documentation for Hugo docDock</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/css/style-griddb.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>
<header id="header2">


    
    <div class="header-inner">

        <div id="collapse-button" style="display: none;">
            <span></span>
            <span></span>
            <span></span>
        </div>


        
        <div class="logo">
            <a href="/en" title="GridDB Developers"><img src="https://griddb-pro.azureedge.net/en/wp-content/themes/juliet/images/Untitled10.png" alt="GridDB Developers" style="width:auto;height:25px;">
    </a>
        </div>
        


        
        <nav id="nav" class="main-navigation" role="navigation" style="">
            <div class="menu-topnav-container">
                <ul id="menu-topnav" class="nav-menu">
                    <li id="menu-item-581" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-581"><a href="/en/docs/documents/1-1_what-is-griddb.php">Docs</a></li>
                    <li id="menu-item-681" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-681"><a href="/en/faq/">FAQ</a></li>
                    <li id="menu-item-671" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-671"><a href="/en/community/">Community</a></li>
                    <li id="menu-item-591" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-591"><a href="/en/forums/forum/top/">Forum</a></li>
                    <li id="menu-item-291" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-291"><a href="/en/blog">Blog</a></li>

                </ul>

            </div>


       <li style="list-style:none"><a href="https://griddb.net/en/downloads/"> <span class="download-button4" style="display:none"> DOWNLOAD</span></a></li>

 
            
            <a href="/en/downloads/"> <span id="download-button"> Download</span></a>
            

        </nav>
        

    </div>


</header>


    
  </head>
  <body data-url="/latest/sample-applications/basics/5-1-16_tql/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="/">Documentation for Hugo docDock</a>
  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/latest" class="dd-item">
          <a href="/latest">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/latest/introduction/" class="dd-item haschildren
        ">
      <div>
      <a href="/latest/introduction/"><b>1. </b>Introduction</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/latest/introduction/1-1_what-is-griddb/" class="dd-item">
        <div>
          <a href="/latest/introduction/1-1_what-is-griddb/">
            What is GridDB
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/introduction/1-2_griddb-edition/" class="dd-item">
        <div>
          <a href="/latest/introduction/1-2_griddb-edition/">
            GridDB Editions
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/latest/getting-started/" class="dd-item haschildren
        ">
      <div>
      <a href="/latest/getting-started/"><b>2. </b>Getting Started</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/latest/getting-started/2-1_system-requirements/" class="dd-item">
        <div>
          <a href="/latest/getting-started/2-1_system-requirements/">
            System Requirements
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/getting-started/2-2_installation/" class="dd-item">
        <div>
          <a href="/latest/getting-started/2-2_installation/">
            Installation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/getting-started/2-3_run-your-first-griddb-node-cluster/" class="dd-item">
        <div>
          <a href="/latest/getting-started/2-3_run-your-first-griddb-node-cluster/">
            Run your First GridDB Node/Cluster
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/getting-started/2-4_run-a-sample-java-client-app/" class="dd-item">
        <div>
          <a href="/latest/getting-started/2-4_run-a-sample-java-client-app/">
            Run a Sample Java Client App
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/latest/technical-architecture-and-guide/" class="dd-item haschildren
        ">
      <div>
      <a href="/latest/technical-architecture-and-guide/"><b>3. </b>Technical Architecture and Guide</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/latest/technical-architecture-and-guide/3-1_griddb-technical-overview/" class="dd-item">
        <div>
          <a href="/latest/technical-architecture-and-guide/3-1_griddb-technical-overview/">
            GridDB Technical Overview
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/technical-architecture-and-guide/3-2_key-container-model/" class="dd-item">
        <div>
          <a href="/latest/technical-architecture-and-guide/3-2_key-container-model/">
            Key Container Model
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/technical-architecture-and-guide/3-3_tql/" class="dd-item">
        <div>
          <a href="/latest/technical-architecture-and-guide/3-3_tql/">
            TQL
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/technical-architecture-and-guide/3-4_crud-operations/" class="dd-item">
        <div>
          <a href="/latest/technical-architecture-and-guide/3-4_crud-operations/">
            CRUD Operations
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/technical-architecture-and-guide/3-5_transactions-and-acid/" class="dd-item">
        <div>
          <a href="/latest/technical-architecture-and-guide/3-5_transactions-and-acid/">
            Transactions and ACID
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/technical-architecture-and-guide/3-6_indexes/" class="dd-item">
        <div>
          <a href="/latest/technical-architecture-and-guide/3-6_indexes/">
            Indexes
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/technical-architecture-and-guide/3-7_storage-architecture/" class="dd-item">
        <div>
          <a href="/latest/technical-architecture-and-guide/3-7_storage-architecture/">
            Storage Architecture
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/technical-architecture-and-guide/3-8_replication-distribution/" class="dd-item">
        <div>
          <a href="/latest/technical-architecture-and-guide/3-8_replication-distribution/">
            Replication &amp; Distribution
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/technical-architecture-and-guide/3-9_sharding/" class="dd-item">
        <div>
          <a href="/latest/technical-architecture-and-guide/3-9_sharding/">
            Sharding
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/latest/data-modeling/" class="dd-item haschildren
        ">
      <div>
      <a href="/latest/data-modeling/"><b>4. </b>Data Modeling</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/latest/data-modeling/4-1_data-modeling-basics/" class="dd-item">
        <div>
          <a href="/latest/data-modeling/4-1_data-modeling-basics/">
            Data Modeling Basics
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/data-modeling/4-2_data-modeling-using-griddb/" class="dd-item">
        <div>
          <a href="/latest/data-modeling/4-2_data-modeling-using-griddb/">
            Data Modeling Using GridDB
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/data-modeling/4-3_modeling-relationships/" class="dd-item">
        <div>
          <a href="/latest/data-modeling/4-3_modeling-relationships/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/data-modeling/4-4_possibilities-and-variations-of-data-models-in-griddb/" class="dd-item">
        <div>
          <a href="/latest/data-modeling/4-4_possibilities-and-variations-of-data-models-in-griddb/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/latest/sample-applications/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/latest/sample-applications/"><b>5. </b>Sample Application</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/latest/sample-applications/basics/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/latest/sample-applications/basics/"><b>5.1 </b>Basics</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/latest/sample-applications/basics/5-1-10_collection-delete/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-10_collection-delete/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-11_collection-modify/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-11_collection-modify/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-12_timeseries-register/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-12_timeseries-register/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-13_timeseries-retrieve/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-13_timeseries-retrieve/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-14_timeseries-delete/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-14_timeseries-delete/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-15_timeseries-modify/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-15_timeseries-modify/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-16_tql/" class="dd-item active">
        <div>
          <a href="/latest/sample-applications/basics/5-1-16_tql/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-17_trigger-rest/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-17_trigger-rest/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-18_trigger-jms/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-18_trigger-jms/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-19_multiput/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-19_multiput/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-1_introduction/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-1_introduction/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-20_multiquery/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-20_multiquery/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-21_multiget/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-21_multiget/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-2_griddb-basics/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-2_griddb-basics/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-3_prepare-server/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-3_prepare-server/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-4_prepare-client/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-4_prepare-client/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-5_connection/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-5_connection/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-6_container-schema/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-6_container-schema/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-7_container-create-drop/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-7_container-create-drop/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-8_collection-register/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-8_collection-register/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/sample-applications/basics/5-1-9_collection-retrieve/" class="dd-item">
        <div>
          <a href="/latest/sample-applications/basics/5-1-9_collection-retrieve/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/latest/administration/" class="dd-item haschildren
        ">
      <div>
      <a href="/latest/administration/"><b>6. </b>Administration</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/latest/administration/6-1_supported-os-platforms-and-system-requirements/" class="dd-item">
        <div>
          <a href="/latest/administration/6-1_supported-os-platforms-and-system-requirements/">
            Supported OS, Platforms and System Requirements
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/administration/6-2_sizing-and-scaling/" class="dd-item">
        <div>
          <a href="/latest/administration/6-2_sizing-and-scaling/">
            Sizing and Scaling
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/administration/6-3_installing/" class="dd-item">
        <div>
          <a href="/latest/administration/6-3_installing/">
            Installing
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/administration/6-4_upgrading-the-editions/" class="dd-item">
        <div>
          <a href="/latest/administration/6-4_upgrading-the-editions/">
            Upgrading Editions
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/administration/6-5_migration-from-other-databases/" class="dd-item">
        <div>
          <a href="/latest/administration/6-5_migration-from-other-databases/">
            Migration from Other Databases
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/administration/6-6_cluster-administration-operations/" class="dd-item">
        <div>
          <a href="/latest/administration/6-6_cluster-administration-operations/">
            Cluster Administration &amp; Operations
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/administration/6-7_monitoring-troubleshooting/" class="dd-item">
        <div>
          <a href="/latest/administration/6-7_monitoring-troubleshooting/">
            Monitoring &amp; Troubleshooting
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/administration/6-8_tuning/" class="dd-item">
        <div>
          <a href="/latest/administration/6-8_tuning/">
            Tuning
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/latest/drivers-and-integrators/" class="dd-item haschildren
        ">
      <div>
      <a href="/latest/drivers-and-integrators/"><b>7. </b>Drivers &amp; Integrators</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/latest/drivers-and-integrators/7-1_jdbc-connector/" class="dd-item">
        <div>
          <a href="/latest/drivers-and-integrators/7-1_jdbc-connector/">
            JDBC Connector
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/drivers-and-integrators/7-2_odbc-connector/" class="dd-item">
        <div>
          <a href="/latest/drivers-and-integrators/7-2_odbc-connector/">
            ODBC Connector
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/drivers-and-integrators/7-3_hadoop-and-spark-connector/" class="dd-item">
        <div>
          <a href="/latest/drivers-and-integrators/7-3_hadoop-and-spark-connector/">
            Hadoop and Spark Connector
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/latest/drivers-and-integrators/7-4_grafana-connector/" class="dd-item">
        <div>
          <a href="/latest/drivers-and-integrators/7-4_grafana-connector/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>




    </ul>
<select id="select-language" onchange="location = this.value;">
	
	
	
	  
	  
	    
	      
	        <option id="latest" value="/latest/sample-applications/basics/5-1-16_tql/" selected>Latest</option>
	      
	    
	  
	    
	  
	
</select>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/latest/introduction/" >
   Introduction</option>
    <option value="/latest/getting-started/" >
   Getting Started</option>
    <option value="/latest/technical-architecture-and-guide/" >
   Technical Architecture and Guide</option>
    <option value="/latest/data-modeling/" >
   Data Modeling</option>
    <option value="/latest/sample-applications/" >
   Sample Application</option> 
    <option value="/latest/sample-applications/basics/" >
  - 
   Basics</option> 
      <option value="/latest/sample-applications/basics/5-1-10_collection-delete/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-11_collection-modify/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-12_timeseries-register/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-13_timeseries-retrieve/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-14_timeseries-delete/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-15_timeseries-modify/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-16_tql/"  selected>-- </option>
      <option value="/latest/sample-applications/basics/5-1-17_trigger-rest/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-18_trigger-jms/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-19_multiput/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-1_introduction/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-20_multiquery/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-21_multiget/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-2_griddb-basics/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-3_prepare-server/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-4_prepare-client/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-5_connection/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-6_container-schema/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-7_container-create-drop/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-8_collection-register/" >-- </option>
      <option value="/latest/sample-applications/basics/5-1-9_collection-retrieve/" >-- </option>
  
  
    <option value="/latest/administration/" >
   Administration</option>
    <option value="/latest/drivers-and-integrators/" >
   Drivers &amp; Integrators</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "\/\/latest";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1></h1>
    
    
    
    

<p>Table of Contents</p>

<h1 id="5-1-16-tql">5.1.16 TQL</h1>

<h2 id="overview">Overview</h2>

<p>This chapter covers the TQL query language for accessing GridDB. Only the SELECT statement is supported in TQL so no changes can be made to the database or schema. Please refer to the <a href="https://www.griddb.net/en/docs/GridDB_API_Reference.html">GridDB API</a> reference for more information.</p>

<h2 id="conditional-search">Conditional Search</h2>

<p>The TQL search functionality is the same as SQL.</p>

<p><strong>List.1 Conditional Search</strong>(TqlSeach.java)</p>

<p>// Get TimeSeries Container
TimeSeries<InstrumentLog> logTs =
        store.getTimeSeries(&ldquo;weather_station_1&rdquo;, InstrumentLog.class);</p>

<p>// Seach by temperture
String tql = String.format(&ldquo;SELECT * WHERE temperture &gt; %s&rdquo;, temperture);
Query<InstrumentLog> query = logTs.query(tql, InstrumentLog.class);
RowSet<InstrumentLog> rows = query.fetch();</p>

<ul>
<li>Line 103: Use Container.query class to input the TQL statement</li>
<li>Line 104: Fetch results from TQL statement</li>
</ul>

<p>The result of the TQL statement is stored in a RowSet and can be retrieved as follows:</p>

<p><strong>List.2 Get the results of the Conditional Search</strong>(TqlSeach.java)</p>

<p>while (rows.hasNext()) {
    InstrumentLog log = rows.next();
    System.out.println(&ldquo;Timestamp\t\t\tWeatherStation ID\tTemperture&rdquo;);
    System.out.println(String.format(&ldquo;%s\t%-20s\t%-10s&rdquo;, log.timestamp,
            log.weatherStationId, log.temperture));
}</p>

<ul>
<li>Line 38: Use RowSet.hasNext() to see if there any more results</li>
<li>Line 39: Use RowSet.next() to retrieve the next row.</li>
</ul>

<p>The execution results follow:</p>

<p><strong>List.3 Results of the Conditional Search</strong>(TqlSeach.java)</p>

<p>TQL:SELECT * WHERE temperture &gt; 70.0
Timestamp                       WeatherStation ID       Temperture
Fri Jul 01 09:00:00 JST 2016    weather_station_1       75.0
Fri Jul 01 12:00:00 JST 2016    weather_station_1       80.0
Fri Jul 01 15:00:00 JST 2016    weather_station_1       75.0
Sat Jul 02 09:00:00 JST 2016    weather_station_1       75.0
Sat Jul 02 12:00:00 JST 2016    weather_station_1       80.0
Sat Jul 02 15:00:00 JST 2016    weather_station_1       75.0</p>

<h2 id="like-search">Like Search</h2>

<p>You can use the LIKE keyword search like SQL.</p>

<p><strong>List.4 Like Search</strong>(TqlSeach.java)</p>

<p>// Get Collection
Collection<String, WeatherStation> weatherStationCol =
        store.getCollection(&ldquo;weather_station&rdquo;, WeatherStation.class);</p>

<p>// Like Search
String tql = &ldquo;SELECT * WHERE name LIKE &lsquo;%&rdquo; + name + &ldquo;%&rsquo;&rdquo;;
// Search By TQL
Query query = weatherStationCol.query(tql, WeatherStation.class);
RowSet rows = query.fetch();</p>

<ul>
<li>Line 120: Specifies LIKE in the query string using patterns.</li>
<li>%: Matches a string of one or more characters.</li>
<li>_: Matches a single character.</li>
</ul>

<p>Retrieving the results from the RowSet does not change.</p>

<p><strong>List.5 Get the results from the Like Query</strong>(TqlSeach.java)</p>

<p>// Search WeatherStation by name
RowSet<WeatherStation> wsRows = searchByName(store, &ldquo;kyo&rdquo;);</p>

<p>// Show search WeatherStation results
System.out.println(&ldquo;ID\tName\t\t\tLongitude\tLatitude\tCamera&rdquo;);
while (wsRows.hasNext()) {
    WeatherStation weatherStation = wsRows.next();
    System.out.println(String.format(&ldquo;%-3s\t%-20s\t%-10s\t%-10s\t%-5s&rdquo;,
            weatherStation.id, weatherStation.name, weatherStation.latitude,
            weatherStation.longitude, weatherStation.hasCamera));
(snip)
}</p>

<p>Execution results are as follows:</p>

<p><strong>List.6 Result</strong>(TqlSeach.java)</p>

<p>TQL:SELECT * WHERE name LIKE &lsquo;%kyo%&rsquo;
ID      Name                    Longitude       Latitude        Camera
13      Tokyo-Shinjuku          35.68944        139.69167       true</p>

<h2 id="time-specified-search">Time specified Search</h2>

<p>In the case of a TimeSeries container, TimeSeries.query() can be used with TQL.</p>

<p><strong>List.7 TQL and TimeSeries</strong>(TqlSeach.java)</p>

<p>// Get TimeSeries Container
TimeSeries<InstrumentLog> logTs;
logTs = store.getTimeSeries(&ldquo;weather_station_&rdquo; + weatherStationId, InstrumentLog.class);</p>

<p>Query<InstrumentLog> query = logTs.query(String.format(
        &ldquo;SELECT * WHERE TIMESTAMP(&lsquo;%s&rsquo;) &gt;= timestamp AND timestamp &lt;= TIMESTAMP(&lsquo;%s&rsquo;)&ldquo;,
        TimestampUtils.format(start), TimestampUtils.format(end)));
RowSet<InstrumentLog> rows = query.fetch();</p>

<ul>
<li>Line 144-146: Use TimestampUtils.date to specify the time with in the TQL search string.

<br /></li>
</ul>

<p><strong>List.8 Get results from a TimeSeries TQL Query</strong>(TqlSeach.java)</p>

<p>// Search WeatherStation by name
RowSet<WeatherStation> wsRows = searchByName(store, &ldquo;kyo&rdquo;);</p>

<p>// Show search WeatherStation results
System.out.println(&ldquo;ID\tName\t\t\tLongitude\tLatitude\tCamera&rdquo;);
while (wsRows.hasNext()) {
    WeatherStation weatherStation = wsRows.next();
    System.out.println(String.format(&ldquo;%-3s\t%-20s\t%-10s\t%-10s\t%-5s&rdquo;,
            weatherStation.id, weatherStation.name, weatherStation.latitude,
            weatherStation.longitude, weatherStation.hasCamera));
(snip)
}</p>

<p><strong>List.9 Results</strong> (TqlSeach.java)</p>

<p>TQL:SELECT * WHERE TIMESTAMP(&lsquo;2016-07-01T21:00:00.000Z&rsquo;) &lt;= timestamp AND timestamp &lt;= TIMESTAMP(&lsquo;2016-07-02T03:00:00.000Z&rsquo;)
Timestamp                       WeatherStation ID       Temperture
Sat Jul 02 06:00:00 JST 2016    weather_station_13      70.0
Sat Jul 02 09:00:00 JST 2016    weather_station_13      75.0
Sat Jul 02 12:00:00 JST 2016    weather_station_13      80.0</p>

<h2 id="search-with-forupdate">Search with forUpdate</h2>

<p>It is possible to update rows retrieved using TQL.</p>

<p><strong>List.10 Search with forUpdate</strong>(TqlForUpdate.java)</p>

<p>// Get TimeSeries
Collection<String, WeatherStation> weatherStationCol =
        store.getCollection(&ldquo;weather_station&rdquo;, WeatherStation.class);</p>

<p>// When using forUpdate, there is a need to disable the Auto Commit
weatherStationCol.setAutoCommit(false);</p>

<p>// In the case of boolean columns, NOT means false.
String tql = &ldquo;SELECT * WHERE NOT hasCamera&rdquo;;
// Search By TQL
Query<WeatherStation> query = weatherStationCol.query(tql, WeatherStation.class);
// Using forUpdate option.
RowSet<WeatherStation> rows = query.fetch(true);</p>

<p>// Install a camera in all of WeatherStation.
while (rows.hasNext()) {
    System.out.println(&ldquo;not exists camera&rdquo;);
    WeatherStation weatherStation = rows.next();
    System.out.println(&ldquo;ID:&rdquo; + weatherStation.id);
    weatherStation.hasCamera = true;
    // update row of WeatherStation
    rows.update(weatherStation);
}
// Commit
weatherStationCol.commit();</p>

<h2 id="tql-explain-and-analyze">TQL EXPLAIN and ANALYZE</h2>

<p>Like SQL, it is possible to use the EXPLAIN and ANALYZE keywords to get execution plans for TQL statemntes.</p>

<p><strong>List.11 TQL Execution plans</strong>(TqlExplain.java)</p>

<p>// Get InstrumentLog TimeSeries
TimeSeries<InstrumentLog> logTs =
        store.getTimeSeries(&ldquo;weather_station_1&rdquo;, InstrumentLog.class);</p>

<p>// Analyzing the execution plan of the TQL
String tql = &ldquo;EXPLAIN ANALYZE SELECT * WHERE 50.0 &lt;= temperture AND temperture &lt;= 70.0&rdquo;
        + &ldquo; AND TIMESTAMP(&lsquo;2016-07-01T06:00:00Z&rsquo;) &lt;= timestamp&rdquo;;
Query<QueryAnalysisEntry> query = logTs.query(tql, QueryAnalysisEntry.class);
RowSet<QueryAnalysisEntry> rows = query.fetch();</p>

<p>// output the execution plan of the TQL
System.out.println(&ldquo;ID\tDepth\tType\t\t\t\tValueType\tValue\t\t\tStatement&rdquo;);
while (rows.hasNext()) {
    QueryAnalysisEntry analysis = rows.next();
    System.out.println(String.format(&ldquo;%s\t%s\t%-24s\t%-10s\t%-20s\t%s&rdquo;,
            analysis.getId(), analysis.getDepth(), analysis.getType(),
            analysis.getValueType(), analysis.getValue(), analysis.getStatement()));
}</p>

<ul>
<li>Line 31-32: Add EXPLAIN ANALYSZE to the start of the TQL statement.</li>
<li>Line 33: Run the query with QueryAnalysisEntry.class as a parameter

<br /></li>
</ul>

<p><strong>List.12 Result</strong>(TqlExplain.java)</p>

<p>ID      Depth   Type                            ValueType       Value                   Statement
0       1       TIMESERIES_EXPIRE               TIMESTAMP       1970-01-01T00:00:00Z
1       0       QUERY_LOOP_NUMBER               INTEGER         0
2       1       NOT_INDEX_USABLE                COLUMN          temperture
3       1       NOT_INDEX_USABLE                COLUMN          temperture
4       1       INDEX_FOUND                     INDEX_TYPE      ROWKEY                  timestamp
5       1       SET_INDEX_KEY                   STRING          START_KEY               2016-07-01T06:00:00.000Z
6       1       SEARCH_EXECUTE                  MAP_TYPE        BTREE
7       2       SEARCH_MAP                      STRING          TIME_SERIES_ROW_MAP
8       1       SEARCH_RESULT_ROWS              INTEGER         6
9       0       QUERY_EXECUTE_RESULT_ROWS       INTEGER         6
10      0       QUERY_RESULT_TYPE               STRING          RESULT_ROW_ID_SET
11      0       QUERY_RESULT_ROWS               INTEGER         6</p>

<h2 id="source-code">Source Code</h2>

<p>Complete source code used in this sample can be downloaded from the following.</p>

<p>Download: <a href="img/tql.zip">tql.zip</a></p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/latest/sample-applications/basics/5-1-15_timeseries-modify/" title=""> <i class="fa fa-chevron-left"></i><label></label></a>
    <a class="nav nav-next" href="/latest/sample-applications/basics/5-1-17_trigger-rest/" title="" style="margin-right: 0px;"><label></label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

    <div class="github-link">
      <a href="https://github.com/vjeantet/hugo-theme-docdock/edit/master/exampleSite/content/sample%20applications/basics/5-1-16_tql.md" target="blank"><i class="fa fa-code-fork"></i>
        </a>
    </div>
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>
<script src="/js/newitemstoggle.js"></script>



<script src="/theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>